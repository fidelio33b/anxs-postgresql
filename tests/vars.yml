---

#--- will be set by molecule
#postgresql_version: "{{ postgresql_version | default('13') }}"

postgresql_port: 5432

postgresql_databases:
  - name: foobar
    owner: baz

  - name: qux
    owner: baz
    state: absent

postgresql_users:

  # postgresql >=10 does not accept unencrypted passwords
  - name: baz
    #pass: md51a1dc91c907325c69271ddf0c944bc72
    pass: SCRAM-SHA-256$4096:En1EXwWCRrgFjvDuZ3m5WQ==$Bt4eGQmfMdiTeuz3ZArSBN4XOq+r4VRKW1HZIyxbhUo=:PMAr9udG0/5+5c+36BDO37XFgr/jMDoulhYVwy3haXc=
    encrypted: yes

  - name: zab
    #pass: md51a1dc91c907325c69271ddf0c944bc72
    pass: SCRAM-SHA-256$4096:En1EXwWCRrgFjvDuZ3m5WQ==$Bt4eGQmfMdiTeuz3ZArSBN4XOq+r4VRKW1HZIyxbhUo=:PMAr9udG0/5+5c+36BDO37XFgr/jMDoulhYVwy3haXc=
    encrypted: yes

  - name: foo
    state: absent

  - name: zabaz

postgresql_user_privileges:
  - name: baz
    db: foobar

postgresql_database_schemas:
  - database: foobar
    state: present
    schema: acme
    owner: baz

postgresql_ext_install_extra_packages: yes

postgresql_ext_extra_packages:
  names:
    - asgard
    - plume-pg
    #- emacs-nox
    - fish
  apt_repositories:
    depot-cs-rie: "deb http://debian.depot.e2.rie.gouv.fr/depot-cs/ {{ ansible_distribution_release }} main"
    #depot-signal: "deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/D980A17457F6FB06.gpg] https://updates.signal.org/desktop/apt {{ ansible_distribution_release }} main"
    depot-fish: "deb http://download.opensuse.org/repositories/shells:/fish:/release:/3/Debian_11/ /"
  apt_keys:
    depot-cs-rie:
      id: "CC9CACA5"
      url: "http://debian.depot.e2.rie.gouv.fr/keys/debian-archive-keyring/236BB7D85E32FCD00ED50F847D82EE6CCC9CACA5.asc"
    #depot-signal:
    #  id: "D980A17457F6FB06"
    #  url: "https://updates.signal.org/desktop/apt/keys.asc"
    depot-fish:
      id: "D880C8E4"
      url: "https://download.opensuse.org/repositories/shells:fish:release:3/Debian_11/Release.key"
